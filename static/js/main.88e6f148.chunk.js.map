{"version":3,"sources":["components/Block.js","components/Trial.js","components/Introduction.js","components/EndScreen.js","App.js","reportWebVitals.js","index.js"],"names":["Format","Object","freeze","TEXT","BUBBLE","Block","props","logOnClickResult","d","values","format","n","startTime","curentIteration","advanceIteration","userID","addResults","diffInSeconds","Date","now","reactionTime","Math","round","Number","EPSILON","selectedAnswer","srcElement","__data__","correctAnswer","d3","maxVal","minVal","error","abs","results","Iteration","console","log","RenderBlock","remove","numCol","numRow","font_size","svg","blockRef","current","NB_VALUES","map","floor","random","_w","_h","scales","x","range","padding","align","y","paddingInner","maxCircleRadius","bandwidth","step","sign","selectAll","data","enter","append","attr","i","pad","on","style","circleRadiusScale","domain","sqrt","text","React","createRef","this","ref","height","width","Component","Trial","showInstruction","instructType","trialInstructionScreen","children","Introduction","id","type","onClick","onBeginExperiment","EndScreen","uID","result","submitButton","onSubmit","className","showSubmitButton","submissionStatusObject","keys","key","headerIndex","item","index","val","innerIndex","DataSubmissionStatus","NOT_SUBMITTED","SUCCESFUL","FAILED","App","beginExperiment","setState","showIntro","onSpacebarClicked","event","state","keyCode","advanceTrial","currentTrial","newResult","submitHandler","e","preventDefault","axios","post","process","then","response","dataSubmitted","catch","whatToShow","trialParameters","length","iterationPerTrial","text_trialParameters","bubble_trialParameters","concat","document","addEventListener","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88e6f148.chunk.js","sourcesContent":["import React from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nexport const Format = Object.freeze({ TEXT: 'Text', BUBBLE: 'Bubble' });\r\n\r\nexport class Block extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.blockRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.RenderBlock();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.RenderBlock();\r\n    }\r\n\r\n    logOnClickResult = (d, values) => {\r\n        const {\r\n            format,\r\n            n,\r\n            startTime,\r\n            curentIteration,\r\n            advanceIteration,\r\n            userID,\r\n            addResults,\r\n        } = this.props;\r\n\r\n        const endTime = Date.now();\r\n        const diffInSeconds = (endTime - startTime) / 1000;\r\n        const reactionTime =\r\n            Math.round((diffInSeconds + Number.EPSILON) * 100) / 100;\r\n\r\n        const selectedAnswer = d.srcElement.__data__;\r\n        const correctAnswer = d3.max(values);\r\n\r\n        const maxVal = d3.max(values);\r\n        const minVal = d3.min(values);\r\n\r\n        const error = Math.abs(\r\n            (correctAnswer - selectedAnswer) / (maxVal - minVal)\r\n        );\r\n        const roundedError = Math.round((error + Number.EPSILON) * 1000) / 1000;\r\n\r\n        const results = {\r\n            'Group code': 0,\r\n            'User ID': userID,\r\n            Format: format,\r\n            'Number of values': n,\r\n            Iteration: curentIteration,\r\n            'Reaction time (seconds)': reactionTime,\r\n            'Error (0-1)': roundedError,\r\n        };\r\n\r\n        console.log(results);\r\n\r\n        addResults(results);\r\n        advanceIteration();\r\n    };\r\n\r\n    RenderBlock = () => {\r\n        // Get SVG and clear it before rendering\r\n        d3.selectAll('svg > *').remove();\r\n        const svg = d3.select(this.blockRef.current);\r\n\r\n        const { format, n } = this.props;\r\n\r\n        // The canvas size\r\n        var width = 400;\r\n        var height = 400;\r\n\r\n        const NB_VALUES = n;\r\n\r\n        // the randomly generated set of values between 0 and 99\r\n        var values = d3\r\n            .range(NB_VALUES)\r\n            .map((d) => Math.floor(Math.random() * 100));\r\n\r\n        var pad = 5; //padding for grid layout (text and bubble)\r\n        var numCol, numRow; // number of columns, number of rows\r\n        var font_size;\r\n\r\n        if (NB_VALUES === 25) {\r\n            numCol = 5;\r\n            numRow = 5;\r\n            font_size = 48;\r\n        } else if (NB_VALUES === 3 || NB_VALUES === 5 || NB_VALUES === 9) {\r\n            numCol = 3;\r\n            numRow = 3;\r\n            font_size = 48;\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n        const _w = width / numCol;\r\n        const _h = height / numRow;\r\n\r\n        const scales = {};\r\n        scales.x = d3.scalePoint().range([0, _w]).padding(0.5).align(1);\r\n        scales.y = d3.scaleBand().range([0, _h]).paddingInner(0.3);\r\n\r\n        const maxCircleRadius =\r\n            d3.min([scales.y.bandwidth(), scales.x.step()]) / 2;\r\n\r\n        var sign = svg\r\n            .selectAll('g')\r\n            .data(values)\r\n            .enter()\r\n            .append('g')\r\n            .attr('transform', function (d, i) {\r\n                return (\r\n                    'translate(' +\r\n                    ((i % numCol) * _w + (pad / 2) * -1) +\r\n                    ',' +\r\n                    (Math.floor(i / numRow) * _h + (pad / 2) * -1) +\r\n                    ')'\r\n                );\r\n            })\r\n            .on('click', (d) => this.logOnClickResult(d, values))\r\n            .style('cursor', 'pointer');\r\n\r\n        if (format === Format.BUBBLE) {\r\n            //that's to create a perceptual scaling by mapping square root of value to radius, but other scaling functions could be used\r\n            var circleRadiusScale = d3\r\n                .scaleLinear()\r\n                .domain([Math.sqrt(d3.min(values)), Math.sqrt(d3.max(values))])\r\n                .range([5, maxCircleRadius]);\r\n\r\n            //create an 'invisible' circle of size half the max size of a bubble, simply to make it possible to click the smaller circles easily.\r\n            sign.append('circle')\r\n                .attr('cx', _w / 2)\r\n                .attr('cy', _w / 2)\r\n                .attr('r', maxCircleRadius / 2)\r\n                .style('fill', 'white');\r\n\r\n            // then, for each cell we appends a circle\r\n            sign.append('circle')\r\n                .attr('cx', _w / 2)\r\n                .attr('cy', _w / 2)\r\n                .attr('r', (d) => circleRadiusScale(Math.sqrt(d)))\r\n                .style('fill', 'black');\r\n        } else if (format === Format.TEXT) {\r\n            //create an 'invisible' circle of size half the max size of a bubble, simply to make it possible to click the smaller circles easily.\r\n            sign.append('circle')\r\n                .attr('cx', _w / 2)\r\n                .attr('cy', _w / 2)\r\n                .attr('r', maxCircleRadius / 2)\r\n                .style('fill', 'white');\r\n\r\n            sign.append('text')\r\n                .attr('x', _w / 2)\r\n                .attr('y', _w / 2)\r\n                .attr('text-anchor', 'middle')\r\n                .attr('font-size', font_size + 'px')\r\n                .text((d) => d);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <svg ref={this.blockRef} style={{ height: 400, width: 400 }}></svg>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Trial extends React.Component {\r\n    render() {\r\n        const {\r\n            format,\r\n            n,\r\n            showInstruction,\r\n            instructType,\r\n            curentIteration,\r\n        } = this.props;\r\n\r\n        const trialInstructionScreen = (\r\n            <div>\r\n                <h1>{`${format} phase`}</h1>\r\n                <p>\r\n                    {instructType === 1\r\n                        ? `Perform the required task for a group of ${n} numbers`\r\n                        : `Now do the same for a group of ${n} numbers`}\r\n                </p>\r\n                <p>{'Press Space to Continue'}</p>\r\n            </div>\r\n        );\r\n\r\n        if (showInstruction) {\r\n            return trialInstructionScreen;\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <h1>{`Iteration ${curentIteration}`}</h1>\r\n                    {this.props.children}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Introduction extends React.Component {\r\n    render() {\r\n        return (\r\n            <div id={'Introduction'}>\r\n                <h1>HCI UVic Course Experiment</h1>\r\n                <p>By Paria Naghavi and Sharon Umute</p>\r\n                <div>\r\n                    <h3>\r\n                        Effectiveness of text representations, of amounts,\r\n                        versus graphical representations\r\n                    </h3>\r\n                    For this experiment, you will be shown a series of numbers\r\n                    represented as either text or circles of corresponding\r\n                    sizes.\r\n                    <p>\r\n                        <b>Your required task</b> is to{' '}\r\n                        <b>click the largest number/circle</b> as fast as you\r\n                        can.\r\n                    </p>\r\n                </div>\r\n                <p>Click the button below to begin the experiment</p>\r\n                <button type={'submit'} onClick={this.props.onBeginExperiment}>\r\n                    Begin\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class EndScreen extends React.Component {\r\n    render() {\r\n        const results = this.props.results;\r\n\r\n        const uID = results[0]['User ID'];\r\n\r\n        var data = results.map((result) => {\r\n            return {\r\n                Format: result.Format,\r\n                'Number of values': result['Number of values'],\r\n                Iteration: result.Iteration,\r\n                'Reaction time (seconds)': result['Reaction time (seconds)'],\r\n                'Error (0-1)': result['Error (0-1)'],\r\n            };\r\n        });\r\n\r\n        const submitButton = (\r\n            <div>\r\n                <p>\r\n                    Click the button below to submit your results for analysis\r\n                </p>\r\n                <button type={'submit'} onClick={this.props.onSubmit}>\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <h2 id={'Thanks'}>Thank you for participating</h2>\r\n                <p id={'UID'}>{`User ID: ${uID}`}</p>\r\n                <p>Your results are below</p>\r\n                {this.props.showSubmitButton\r\n                    ? submitButton\r\n                    : this.props.submissionStatusObject}\r\n\r\n                <table>\r\n                    <thead>\r\n                        <tr key={'header'}>\r\n                            {Object.keys(data[0]).map((key, headerIndex) => (\r\n                                <th key={headerIndex}>{key}</th>\r\n                            ))}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.map((item, index) => (\r\n                            <tr key={index}>\r\n                                {Object.values(item).map((val, innerIndex) => (\r\n                                    <td key={innerIndex}>{val}</td>\r\n                                ))}\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport { Block, Format } from './components/Block';\nimport Trial from './components/Trial';\nimport Introduction from './components/Introduction';\nimport EndScreen from './components/EndScreen';\nimport './App.css';\nimport axios from 'axios';\nimport 'dotenv';\n\nexport const DataSubmissionStatus = Object.freeze({\n    NOT_SUBMITTED: 1,\n    SUCCESFUL: 2,\n    FAILED: 3,\n});\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentTrial: 0,\n            showInstruction: true,\n            curentIteration: 1,\n            results: [],\n            showIntro: true,\n            dataSubmitted: DataSubmissionStatus.NOT_SUBMITTED,\n        };\n\n        this.userID = Math.floor(Math.random() * 90000) + 10000;\n\n        this.iterationPerTrial = 3;\n\n        this.text_trialParameters = [\n            { format: Format.TEXT, n: 3, instructType: 1 },\n            { format: Format.TEXT, n: 5, instructType: 2 },\n            { format: Format.TEXT, n: 9, instructType: 2 },\n            { format: Format.TEXT, n: 25, instructType: 2 },\n        ];\n\n        this.bubble_trialParameters = [\n            { format: Format.BUBBLE, n: 3, instructType: 1 },\n            { format: Format.BUBBLE, n: 5, instructType: 2 },\n            { format: Format.BUBBLE, n: 9, instructType: 2 },\n            { format: Format.BUBBLE, n: 25, instructType: 2 },\n        ];\n\n        this.trialParameters =\n            this.userID % 2 === 0\n                ? this.text_trialParameters.concat(this.bubble_trialParameters)\n                : this.bubble_trialParameters.concat(this.text_trialParameters);\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onSpacebarClicked);\n    }\n\n    componentDidUpdate() {\n        if (this.state.curentIteration > this.iterationPerTrial) {\n            this.advanceTrial();\n        }\n    }\n\n    beginExperiment = () => {\n        this.setState({\n            showIntro: false,\n        });\n    };\n\n    onSpacebarClicked = (event) => {\n        if (\n            this.state.showInstruction &&\n            (event.key === 'Spacebar' ||\n                event.key === ' ' ||\n                event.keyCode === 32)\n        ) {\n            this.setState({\n                showInstruction: false,\n            });\n        }\n    };\n\n    advanceIteration = () => {\n        this.setState({\n            curentIteration: this.state.curentIteration + 1,\n        });\n    };\n\n    advanceTrial = () => {\n        this.setState({\n            currentTrial: this.state.currentTrial + 1,\n            curentIteration: 1,\n            showInstruction: true,\n        });\n    };\n\n    addResults = (newResult) => {\n        this.setState({\n            results: [...this.state.results, newResult],\n        });\n    };\n\n    submitHandler = (e) => {\n        e.preventDefault();\n        console.log(this.state.results);\n\n        axios\n            .post(`${process.env.REACT_APP_GOOGLE_SHEETS}`, this.state.results)\n            .then((response) => {\n                console.log(response);\n                this.setState({\n                    dataSubmitted: DataSubmissionStatus.SUCCESFUL,\n                });\n            })\n            .catch((error) => {\n                console.log(error);\n                this.setState({\n                    dataSubmitted: DataSubmissionStatus.FAILED,\n                });\n            });\n    };\n\n    whatToShow = () => {\n        if (this.state.showIntro) {\n            return <Introduction onBeginExperiment={this.beginExperiment} />;\n        } else if (this.state.currentTrial === this.trialParameters.length) {\n            var submissionStatusObject = null;\n\n            if (this.state.dataSubmitted === DataSubmissionStatus.SUCCESFUL) {\n                submissionStatusObject = (\n                    <div className={'submittedSuccessfully'}>\n                        Data submission complete\n                    </div>\n                );\n            } else if (\n                this.state.dataSubmitted === DataSubmissionStatus.FAILED\n            ) {\n                submissionStatusObject = (\n                    <div className={'submittedFailed'}>\n                        Data submission failed\n                    </div>\n                );\n            }\n\n            return (\n                <EndScreen\n                    results={this.state.results}\n                    showSubmitButton={\n                        this.state.dataSubmitted ===\n                        DataSubmissionStatus.NOT_SUBMITTED\n                    }\n                    submissionStatusObject={submissionStatusObject}\n                    onSubmit={this.submitHandler}\n                />\n            );\n        } else {\n            return (\n                <Trial\n                    format={\n                        this.trialParameters[this.state.currentTrial].format\n                    }\n                    n={this.trialParameters[this.state.currentTrial].n}\n                    showInstruction={this.state.showInstruction}\n                    instructType={\n                        this.trialParameters[this.state.currentTrial]\n                            .instructType\n                    }\n                    curentIteration={this.state.curentIteration}\n                >\n                    <Block\n                        format={\n                            this.trialParameters[this.state.currentTrial].format\n                        }\n                        n={this.trialParameters[this.state.currentTrial].n}\n                        startTime={Date.now()}\n                        curentIteration={this.state.curentIteration}\n                        advanceIteration={this.advanceIteration}\n                        userID={this.userID}\n                        addResults={this.addResults}\n                    />\n                </Trial>\n            );\n        }\n    };\n\n    render() {\n        return <div className=\"App\">{this.whatToShow()}</div>;\n    }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}